<?php
//--------------------------------------------------------------------------------------------------
// Control
//--------------------------------------------------------------------------------------------------
//
// Author     : Ozan UYKUN <ozanbote@windowslive.com> | <ozanbote@gmail.com>
// Site       : www.znframework.com
// License    : The MIT License
// Copyright  : Copyright (c) 2012-2016, ZN Framework
//
//--------------------------------------------------------------------------------------------------

//--------------------------------------------------------------------------------------------------
// isImport()
//--------------------------------------------------------------------------------------------------
//
// @param string $path
//
// @return Bool
//
//--------------------------------------------------------------------------------------------------
function isImport( ? string $path) : bool
{
    return ! in_array( realpath(suffix($path, '.php')), get_required_files() )
           ? false
           : true;
}

//--------------------------------------------------------------------------------------------------
// isUrl()
//--------------------------------------------------------------------------------------------------
//
// @param string $url
//
// @return Bool
//
//--------------------------------------------------------------------------------------------------
function isUrl( ? string $url) : bool
{
    return ! preg_match('#^(\w+:)?//#i', $url)
           ? false
           : true;
}

//--------------------------------------------------------------------------------------------------
// isEmail()
//--------------------------------------------------------------------------------------------------
//
// @param string $email
//
// @return Bool
//
//--------------------------------------------------------------------------------------------------
function isEmail( ? string $email) : bool
{
    return ! preg_match("/^([a-z0-9\+_\-]+)(\.[a-z0-9\+_\-]+)*@([a-z0-9\-]+\.)+[a-z]{2,6}$/ix", $email)
           ? false
           : true;
}

//--------------------------------------------------------------------------------------------------
// isChar()
//--------------------------------------------------------------------------------------------------
//
// @param mixed $str
//
// @return Bool
//
//--------------------------------------------------------------------------------------------------
function isChar($str) : bool
{
    return ! is_scalar($str)
           ? false
           : true;
}

//--------------------------------------------------------------------------------------------------
// isRealNumeric()
//--------------------------------------------------------------------------------------------------
//
// @param numeric $num = 0
//
// @return Bool
//
//--------------------------------------------------------------------------------------------------
function isRealNumeric($num = 0) : bool
{
    return ! is_string($num) && is_numeric($num)
           ? true
           : false;
}

//--------------------------------------------------------------------------------------------------
// isDeclaredClass()
//--------------------------------------------------------------------------------------------------
//
// @param string $class
//
// @return Bool
//
//--------------------------------------------------------------------------------------------------
function isDeclaredClass( ? string $class) : bool
{
    return ! in_array(strtolower($class), array_map('strtolower', get_declared_classes()))
           ? false
           : true;
}


//--------------------------------------------------------------------------------------------------
// isHash()
//--------------------------------------------------------------------------------------------------
//
// @param string $type
//
// @return Bool
//
//--------------------------------------------------------------------------------------------------
function isHash( ? string $type) : bool
{
    return ! in_array($type, hash_algos())
           ? false
           : true;
}

//--------------------------------------------------------------------------------------------------
// isCharset()
//--------------------------------------------------------------------------------------------------
//
// @param string $charset
//
// @return Bool
//
//--------------------------------------------------------------------------------------------------
function isCharset( ? string $charset) : bool
{
    return ! array_search(strtolower($charset), array_map('strtolower', mb_list_encodings()), true)
           ? false
           : true;
}

//--------------------------------------------------------------------------------------------------
// isArray
//--------------------------------------------------------------------------------------------------
//
// @param mixed $array
//
// @return Bool
//
//--------------------------------------------------------------------------------------------------
function isArray($array) : bool
{
    return ! empty($array) && is_array($array)
           ? true
           : false;
}

//--------------------------------------------------------------------------------------------------
// Null Coalesce
//--------------------------------------------------------------------------------------------------
//
// @param var   &$var
// @param mixed $value
//
// @return void
//
//--------------------------------------------------------------------------------------------------
function nullCoalesce( & $var, $value) : void
{
    $var = $var === NULL ? $value : $var;
}
