<?php
trait FormValidationTrait
{
	//----------------------------------------------------------------------------------------------------
	//
	// Yazar      : Ozan UYKUN <ozanbote@windowslive.com> | <ozanbote@gmail.com>
	// Site       : www.zntr.net
	// Lisans     : The MIT License
	// Telif Hakkı: Copyright (c) 2012-2016, zntr.net
	//
	//----------------------------------------------------------------------------------------------------
	
	//----------------------------------------------------------------------------------------------------
	// $settings
	//----------------------------------------------------------------------------------------------------
	//
	// Ayarları tutmak için
	//
	// @var array
	//
	//----------------------------------------------------------------------------------------------------
	protected $validate = array();
	
	//----------------------------------------------------------------------------------------------------
	// type()
	//----------------------------------------------------------------------------------------------------
	// 
	// @param array  $validate
	// @param string $validName
	//
	//----------------------------------------------------------------------------------------------------
	public function validate($validate = array(), $validName = '')
	{
		$this->validate['validate']  = $validate;
		$this->validate['validName'] = $validName;
		
		return $this;
	}
	
	//----------------------------------------------------------------------------------------------------
	// validateMethod()
	//----------------------------------------------------------------------------------------------------
	// 
	// @param string $type
	//
	//----------------------------------------------------------------------------------------------------
	public function validateMethod($type = 'post')
	{
		$this->validate['validMethod'] = $type;
		
		return $this;
	}
	
	//----------------------------------------------------------------------------------------------------
	// validateName()
	//----------------------------------------------------------------------------------------------------
	// 
	// @param string $name
	//
	//----------------------------------------------------------------------------------------------------
	public function validateName($name = '')
	{
		$this->validate['validName'] = $name;
		
		return $this;
	}
	
	//----------------------------------------------------------------------------------------------------
	// validateError()
	//----------------------------------------------------------------------------------------------------
	// 
	// @param string $type
	//
	//----------------------------------------------------------------------------------------------------
	public function validateError($type = 'array')
	{
		return Validation::error($type);	
	}

	//----------------------------------------------------------------------------------------------------
	// validator()
	//----------------------------------------------------------------------------------------------------
	// 
	// @param string $type
	//
	//----------------------------------------------------------------------------------------------------
	protected function validator($name)
	{
		if( ! empty($this->validate['validate']) )
		{
			$viewName = ! empty($this->validate['validName'])   ? $this->validate['validName']   : '';
			$method   = ! empty($this->validate['validMethod']) ? $this->validate['validMethod'] : 'post';
			
			Validation::rules($name, $this->validate['validate'], $viewName, $method);
			
			$this->validate = array();
		}
	}
	
	//----------------------------------------------------------------------------------------------------
	// Input Method Bitiş
	//----------------------------------------------------------------------------------------------------
}